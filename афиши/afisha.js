const events = [
 
// 1. ÐÑ€Ñ‚-Ð»ÐµÐºÑ†Ð¸Ñ Â«Ð Ð•ÐŸÐ˜Ð: ÐµÐ´Ð¸Ð½Ð¸Ñ†Ð° Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸Â»
{
  id: 10,
  imageUrl: 'https://i.postimg.cc/15XxbL3F/image.png',
  imageAfisha: 'https://i.postimg.cc/VNQHDf0q/02.png',
  title: 'Ð Ð•ÐŸÐ˜Ð: ÐµÐ´Ð¸Ð½Ð¸Ñ†Ð° Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸',
  date: '21 Ð¼Ð°Ñ, 18:30',
  venue: 'ÐœÐ°Ð»Ñ‹Ð¹ Ð·Ð°Ð»',
  price: '400 Ñ€',
  age: '12+',
  link: '/polnaya-afisha.html?id=10',
  pushkinCard: false,
  watchSlider: true,
  kassyLink: 'https://ekb.kassy.ru/events/seminary/2-64555/sections/?t=1746348293',
  odoLink: 'https://ekb.kassy.ru/events/seminary/2-64555/sections/?t=1746348293',
  description: 'Ð˜Ð»ÑŒÑ Ð•Ñ„Ð¸Ð¼Ð¾Ð²Ð¸Ñ‡ Ð ÐµÐ¿Ð¸Ð½ (1844-1930) - ÑÑ‚Ð¾ Ð¸Ð¼Ñ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾ ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ Ð² Ð½Ð°ÑˆÐµÐ¹ ÑÑ‚Ñ€Ð°Ð½Ðµ. Ð—Ð½Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ñ‹ ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñ‹ Ð¿Ñ€Ð¾ÑÐ»Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¶Ð¸Ð²Ð¾Ð¿Ð¸ÑÑ†Ð°: "Ð‘ÑƒÑ€Ð»Ð°ÐºÐ¸ Ð½Ð° Ð’Ð¾Ð»Ð³Ðµ", "ÐšÑ€ÐµÑÑ‚Ð½Ñ‹Ð¹ Ñ…Ð¾Ð´ Ð² ÐšÑƒÑ€ÑÐºÐ¾Ð¹ Ð³ÑƒÐ±ÐµÑ€Ð½Ð¸Ð¸", "Ð—Ð°Ð¿Ð¾Ñ€Ð¾Ð¶Ñ†Ñ‹ Ð¿Ð¸ÑˆÑƒÑ‚ Ð¿Ð¸ÑÑŒÐ¼Ð¾ Ñ‚ÑƒÑ€ÐµÑ†ÐºÐ¾Ð¼Ñƒ ÑÑƒÐ»Ñ‚Ð°Ð½Ñƒ", "Ð˜Ð²Ð°Ð½ Ð“Ñ€Ð¾Ð·Ð½Ñ‹Ð¹ Ð¸ ÑÑ‹Ð½ ÐµÐ³Ð¾ Ð˜Ð²Ð°Ð½", Ð¿Ð¾Ñ€Ñ‚Ñ€ÐµÑ‚Ñ‹ ÐœÑƒÑÐ¾Ñ€Ð³ÑÐºÐ¾Ð³Ð¾, Ð¢Ð¾Ð»ÑÑ‚Ð¾Ð³Ð¾, Ð¢Ñ€ÐµÑ‚ÑŒÑÐºÐ¾Ð²Ð°... Ð’ÐµÐ»Ð¸ÐºÐ¾Ðµ Ð½Ð°ÑÐ»ÐµÐ´Ð¸Ðµ Ñ€ÑƒÑÑÐºÐ¾Ð¹ Ð¶Ð¸Ð²Ð¾Ð¿Ð¸ÑÐ¸! "ÐÑ…, Ð¶Ð¸Ð·Ð½ÑŒ, Ð¶Ð¸Ð·Ð½ÑŒ... Ð§Ñ‚Ð¾ ÑÑ‚Ð¾ Ñ…ÑƒÐ´Ð¾Ð¶Ð½Ð¸ÐºÐ¸ Ñ‚Ð°Ðº ÐµÑ‘ Ð¾Ð±Ñ…Ð¾Ð´ÑÑ‚!" - Ð¿Ð¸ÑÐ°Ð» Ð¾Ð½ Ð² 1881 Ð³Ð¾Ð´Ñƒ. ÐœÐ°ÑÑˆÑ‚Ð°Ð±Ñ‹ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð´Ð°Ñ‡ "Ð±Ð¾Ð³Ð°Ñ‚Ñ‹Ñ€Ñ Ñ€ÑƒÑÑÐºÐ¾Ð³Ð¾ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð°" Ð·Ð°ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‚ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸ÑÐºÑ€ÐµÐ½Ð½ÐµÐµ Ð²Ð¾ÑÑ…Ð¸Ñ‰ÐµÐ½Ð¸Ðµ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ…ÑƒÐ´Ð¾Ð¶Ð½Ð¸ÐºÐ°, Ð° Ð³Ð»ÑƒÐ±Ð¸Ð½Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð˜Ð»ÑŒÑ‘Ð¹ Ð•Ñ„Ð¸Ð¼Ð¾Ð²Ð¸Ñ‡ÐµÐ¼ Ð ÐµÐ¿Ð¸Ð½Ñ‹Ð¼ Ð¶Ð¸Ð²Ð¾Ð¿Ð¸ÑÐ½Ñ‹Ñ… Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð² Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÐµÑ‚ ÑÐ²Ð¾ÐµÐ¹ Ð¼Ð¾Ñ‰ÑŒÑŽ.'
},

// 2. Ð”ÑƒÑˆÐ°
{
  id: 11,
  imageUrl: 'https://i.postimg.cc/W1RBcxgf/image.png',
  imageAfisha: 'https://i.postimg.cc/T2mjyQ66/image.png',
  title: 'Ð”ÑƒÑˆÐ°',
  date: '22 Ð¼Ð°Ñ, 19:30',
  venue: 'ÐœÐ°Ð»Ñ‹Ð¹ Ð·Ð°Ð»',
  price: 'Ð¾Ñ‚ 800 Ñ€',
  age: '16+',
  link: '/polnaya-afisha.html?id=11',
  pushkinCard: false,
  watchSlider: false,
  kassyLink: 'https://ekb.kassy.ru/events/koncerty-i-shou/2-64654/',
  odoLink: 'https://ekb.kassy.ru/events/koncerty-i-shou/2-64654/',
  description: 'âœ¨Ð–Ð¸Ð²Ñ‹Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹: Ð’Ð¸Ñ€Ñ‚ÑƒÐ¾Ð·Ð½Ð°Ñ ÑÐºÑ€Ð¸Ð¿ÐºÐ° ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€Ð° Ð Ð°ÑÑÐºÐ°Ð·Ð¾Ð²Ð° (Ð»Ð¸Ð´ÐµÑ€ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ ÐšÑ€Ð°ÑÐ½Ð°Ñ ÑÐºÑ€Ð¸Ð¿ÐºÐ°) ðŸŽ» Ð¸ Ð½ÐµÐ¶Ð½Ñ‹Ð¹ Ñ€Ð¾ÑÐ»ÑŒ ðŸŽ¹ Ð¡Ð²ÐµÑ‚Ð»Ð°Ð½Ñ‹ Ð¡Ð¼Ð¸Ñ€Ð½Ð¾Ð²Ð¾Ð¹, Ñ…ÑƒÐ´Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð² Ð²Ð¸Ð´Ðµ Ð¿ÐµÑÐ¾Ñ‡Ð½Ð¾Ð¹ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ ðŸŒªï¸Ð¾Ñ‚ Ð•Ð»ÐµÐ½Ñ‹ ÐšÐ°Ð´Ñ‹Ñ€Ð¾Ð²Ð¾Ð¹, Ð²Ð¾ÐºÐ°Ð» ÐžÐ»ÑŒÐ³Ð¸ Ð¡ÐµÐ¼ÐµÐ½Ð¸Ñ‰ÐµÐ²Ð¾Ð¹ (ÑÐ¾Ð»Ð¸ÑÑ‚ÐºÐ¸ Ð£Ñ€Ð°Ð»ÐžÐ¿ÐµÑ€Ð°Ð‘Ð°Ð»ÐµÑ‚) âœ¨Ð¸ Ð½ÐµÐ¿Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ðµ ÑÑŽÑ€Ð¿Ñ€Ð¸Ð·Ñ‹ Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ.ðŸ’¥ Ð’ÑÐµ ÑÑ‚Ð¾ ÐºÐ¾Ð½Ñ†ÐµÑ€Ñ‚Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ "Ð”ÑƒÑˆÐ°".ðŸŒº Ð§ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÐºÐ°Ñ Ð´ÑƒÑˆÐ° - ÑÐ°Ð¼Ð¾Ðµ Ð½ÐµÐ¶Ð½Ð¾Ðµ Ð¸ Ñ…Ñ€ÑƒÐ¿ÐºÐ¾Ðµ Ñ‡ÑƒÐ´Ð¾ Ð½Ð° ÑÐ²ÐµÑ‚Ðµ. Ð¢Ð°ÐºÐ°Ñ Ñ€Ð°Ð½Ð¸Ð¼Ð°Ñ, Ð½Ð¾ Ñ‚Ð°ÐºÐ°Ñ ÑÐ¸Ð»ÑŒÐ½Ð°Ñ. ÐŸÐ¾Ð»Ð½Ð°Ñ Ð·Ð°Ð³Ð°Ð´Ð¾Ðº Ð¸ ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð², Ð° Ð¸Ð½Ð¾Ð³Ð´Ð° Ð¾Ñ‡ÐµÐ½ÑŒ Ñ‡ÑƒÑ‚ÐºÐ°Ñ Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð½Ð°Ñ.'
},

// 3. ÐÐ½ÑÐ°Ð¼Ð±Ð»ÑŒ Ð¢Ð¾Ð»Ã³ÐºÐ°
{
  id: 12,
  imageUrl: 'https://i.postimg.cc/HkMC0vTY/image.png',
  imageAfisha: 'https://i.postimg.cc/HkMC0vTY/image.png',
  title: 'ÐÐ½ÑÐ°Ð¼Ð±Ð»ÑŒ Ð¢Ð¾Ð»Ð¾ÐºÐ°',
  date: '27 Ð¼Ð°Ñ, 19:00',
  venue: 'Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð·Ð°Ð»',
  price: 'Ð¾Ñ‚ 1200 Ñ€',
  age: '6+',
  link: '/polnaya-afisha.html?id=12',
  pushkinCard: false,
  watchSlider: false,
  kassyLink: 'https://ns.show/artists/toloka',
  odoLink: 'https://ns.show/artists/toloka',
  description: 'ÐÐ½ÑÐ°Ð¼Ð±Ð»ÑŒ Ð¢Ð¾Ð»Ã³ÐºÐ° â€” ÑÑ‚Ð¾ Ð¼Ð¾Ð»Ð¾Ð´Ñ‹Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸, Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»Ð¸ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐ¹ Ñ€ÑƒÑÑÐºÐ¾Ð¹ Ð½Ð°Ñ€Ð¾Ð´Ð½Ð¾Ð¹ Ð¼ÑƒÐ·Ñ‹ÐºÐ¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÐµÐ·Ð´ÑÑ‚ Ð² ÑÐºÑÐ¿ÐµÐ´Ð¸Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð²ÑÐµÐ¹ Ð Ð¾ÑÑÐ¸Ð¸, Ñ€Ð°ÑÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ñ‹Ð²Ð°ÑŽÑ‚ Ð°Ñ€Ñ…Ð¸Ð²Ð½Ñ‹Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹ Ð¸ Ð´Ð°ÑŽÑ‚ Ð¸Ð¼ Ð½Ð¾Ð²ÑƒÑŽ Ð¶Ð¸Ð·Ð½ÑŒ. ÐÐ° ÑÑ†ÐµÐ½Ðµ Ð²Ñ‹ ÑƒÑÐ»Ñ‹ÑˆÐ¸Ñ‚Ðµ Ñ€Ð¾Ð´Ð½ÑƒÑŽ Ð¼ÑƒÐ·Ñ‹ÐºÑƒ Ð¸Ð· Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¾Ð±Ð»Ð°ÑÑ‚ÐµÐ¹ Ð Ð¾ÑÑÐ¸Ð¸ Ð² Ð¶Ð¸Ð²Ð¾Ð¼ Ð¸ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ Ð°Ð½ÑÐ°Ð¼Ð±Ð»Ñ. Ð¢Ñƒ, Ñ‡Ñ‚Ð¾ ÐµÑ‰Ñ‘ Ð½ÐµÐ´Ð°Ð²Ð½Ð¾ Ð·Ð²ÑƒÑ‡Ð°Ð»Ð° Ð² Ð´Ð¾Ð¼Ð°Ñ… Ð²Ð°ÑˆÐ¸Ñ… Ð±Ð°Ð±ÑƒÑˆÐµÐº Ð¸ Ð´ÐµÐ´ÑƒÑˆÐµÐº, Ð½Ð° ÑÐ²Ð°Ð´ÑŒÐ±Ð°Ñ… Ð¸ Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°ÑÑ‚Ð¾Ð»ÑŒÑ. ÐÐµ ÑƒÐ¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ Ñ Ñ€Ð¾Ð´Ð½Ð¾Ð¹ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð¾Ð¹.'
},

// 4. Ðž Ñ‡ÐµÐ¼ Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ð°
{
  id: 13,
  imageUrl: 'https://i.postimg.cc/j5BNtVrj/image.png',
  imageAfisha: 'https://i.postimg.cc/fb1s7gvM/image.png',
  title: 'Ðž Ñ‡ÐµÐ¼ Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ð°',
  date: '19 Ð¸ÑŽÐ½Ñ, 19:00',
  venue: 'ÐÑ€Ñ‚-Ð¥Ð¾Ð»Ð» Â«ÐœÐ°Ð»Ñ‹Ð¹ Ð·Ð°Ð»Â»',
  price: 'Ð¾Ñ‚ 500 Ñ€',
  age: '18+',
  link: '/polnaya-afisha.html?id=13',
  pushkinCard: false,
  watchSlider: true,
  kassyLink: 'https://ekb.kassy.ru/events/koncerty-i-shou/2-64710/',
  odoLink: 'https://ekb.kassy.ru/events/koncerty-i-shou/2-64710/',
  description: 'Ð¡Ð’Ð•Ð¢Ð›ÐÐÐ ÐšÐžÐ¢ÐžÐ’Ð Ð² ÐºÐ¾Ð½Ñ†ÐµÑ€Ñ‚Ðµ Ð·Ð° ÑÑ‚Ð¾Ð»Ð¸ÐºÐ°Ð¼Ð¸ "Ðž Ñ‡ÐµÐ¼ Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ð°". ÐŸÐ¾Ð²Ð¾Ð´Ð¾Ð² Ð´Ð»Ñ Ð¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸Ñ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ñ‹ ... Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾. Ðž Ð»ÑŽÐ±Ð²Ð¸ Ð¸ Ñ€Ð°Ð·Ð»ÑƒÐºÐµ, Ð¾ Ñ€Ð°Ð´Ð¾ÑÑ‚Ð¸ Ð¸ Ð½ÐµÑƒÐ´Ð°Ñ‡Ðµ, Ð¾ Ð¼ÐµÑ‡Ñ‚Ð°Ñ… Ð¸ Ñ‡Ð°ÑÐ½Ð¸ÑÑ…... Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð° Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚. ÐÐµÑ‚! Ð–ÐµÐ½Ñ‰Ð¸Ð½Ð° Ð¿Ð¾Ñ‘Ñ‚! âœ“ Ð›ÑŽÐ±Ð¸Ð¼Ñ‹Ðµ Ð¿ÐµÑÐ½Ð¸ Ð² Ð½Ð¾Ð²Ð¾Ð¼ Ð¿Ñ€Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸; âœ“ Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ñ‹ Ð¾ Ð»Ð¸Ñ‡Ð½Ð¾Ð¼; âœ“ Ð Ð¾Ð¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð³Ð¸Ñ‚Ð°Ñ€Ð° Ð ÐžÐœÐÐÐ Ð“Ð£Ð¡Ð•Ð’Ð. ÐŸÑ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚Ðµ! Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ð¼ÐµÑÑ‚Ðµ ÑƒÑÐ»Ñ‹ÑˆÐ¸Ð¼, Ð¾ Ñ‡ÐµÐ¼ Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚ Ð¶ÐµÐ½Ñ‰Ð¸Ð½Ð°.'
}

];

















































// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð´Ð°Ñ‚Ñ‹ Ð² Ð¾Ð±ÑŠÐµÐºÑ‚ Date
function parseDate(dateStr) {
  const [dayMonth, time] = dateStr.split(', ');
  const [day, month] = dayMonth.split(' ');
  const monthIndex = ['ÑÐ½Ð²Ð°Ñ€Ñ', 'Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ', 'Ð¼Ð°Ñ€Ñ‚Ð°', 'Ð°Ð¿Ñ€ÐµÐ»Ñ', 'Ð¼Ð°Ñ', 'Ð¸ÑŽÐ½Ñ', 'Ð¸ÑŽÐ»Ñ', 'Ð°Ð²Ð³ÑƒÑÑ‚Ð°', 'ÑÐµÐ½Ñ‚ÑÐ±Ñ€Ñ', 'Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ', 'Ð½Ð¾ÑÐ±Ñ€Ñ', 'Ð´ÐµÐºÐ°Ð±Ñ€Ñ'].indexOf(month.toLowerCase());
  const [hours, minutes] = time.split(':');
  const year = 2025;
  return new Date(year, monthIndex, parseInt(day), parseInt(hours), parseInt(minutes));
}

// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð´Ð½Ñ Ð½ÐµÐ´ÐµÐ»Ð¸
function getDayOfWeek(dateStr) {
  const [dayMonth, time] = dateStr.split(', ');
  const [day, month] = dayMonth.split(' ');
  const monthIndex = ['ÑÐ½Ð²Ð°Ñ€Ñ', 'Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ', 'Ð¼Ð°Ñ€Ñ‚Ð°', 'Ð°Ð¿Ñ€ÐµÐ»Ñ', 'Ð¼Ð°Ñ', 'Ð¸ÑŽÐ½Ñ', 'Ð¸ÑŽÐ»Ñ', 'Ð°Ð²Ð³ÑƒÑÑ‚Ð°', 'ÑÐµÐ½Ñ‚ÑÐ±Ñ€Ñ', 'Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ', 'Ð½Ð¾ÑÐ±Ñ€Ñ', 'Ð´ÐµÐºÐ°Ð±Ñ€Ñ'].indexOf(month.toLowerCase());
  const date = new Date(2025, monthIndex, parseInt(day));
  const days = ['Ð²Ñ', 'Ð¿Ð½', 'Ð²Ñ‚', 'ÑÑ€', 'Ñ‡Ñ‚', 'Ð¿Ñ‚', 'ÑÐ±'];
  return days[date.getDay()];
}

// Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ
export function sortEventsByDate(eventsArray) {
  return [...eventsArray].sort((a, b) => {
    const dateA = parseDate(a.date);
    const dateB = parseDate(b.date);
    return dateA - dateB;
  });
}

function renderAfishaCards() {
  const cardsContainer = document.getElementById('cards');
  if (!cardsContainer) return;

  const sortedEvents = sortEventsByDate(events);
  
  sortedEvents.forEach(slide => {
    console.log('Rendering card with link:', slide.link);
    const [dayMonth, time] = slide.date.split(', ');
    const dayOfWeek = getDayOfWeek(slide.date);
    const card = document.createElement('a');
    card.className = 'card';
    card.href = slide.link;
    card.innerHTML = `
      <div class="card-image" style="background-image: url(${slide.imageAfisha || 'https://i.postimg.cc/k5PW2SHr/afisha-zaglushka.jpg'})">
        <div class="age-badge">${slide.age}</div>
        <div class="price-badge">${slide.price}</div>
        ${slide.pushkinCard ? `
          <div class="pushkin-badge">
            <img src="assets/svg_icons/pushkin.png" class="pushkin-icon" alt="Pushkin Card">
          </div>
        ` : ''}
      </div>
      <div class="card-info">
        <div class="card-title">${slide.title}</div>
        <div class="card-date">
          <span>${dayMonth}, ${dayOfWeek}</span>
          <div class="date-dot"></div>
          <span>${time}</span>
        </div>
        <div class="card-venue">${slide.venue}</div>
      </div>
    `;
    card.addEventListener('click', (e) => {
      console.log('Card clicked, navigating to:', card.href);
    });
    cardsContainer.appendChild(card);
  });
}

function initSlider() {
  const cardsContainer = document.querySelector('.cards');
  let isDragging = false;
  let startPos = 0;
  let currentTranslate = 0;
  let prevTranslate = 0;
  let animationID = 0;
  let touchStartTime = 0;
  let touchStartX = 0;
  let touchEndX = 0;
  const minSwipeDistance = 10;

  cardsContainer.addEventListener('mousedown', startDragging);
  cardsContainer.addEventListener('mouseup', stopDragging);
  cardsContainer.addEventListener('mouseleave', stopDragging);
  cardsContainer.addEventListener('mousemove', drag);
  
  cardsContainer.addEventListener('touchstart', touchStart, { passive: false });
  cardsContainer.addEventListener('touchend', touchEnd, { passive: true });
  cardsContainer.addEventListener('touchmove', touchMove, { passive: false });

  function startDragging(event) {
    isDragging = true;
    startPos = getPositionX(event);
    touchStartX = startPos;
    touchStartTime = new Date().getTime();
    animationID = requestAnimationFrame(animation);
    cardsContainer.style.cursor = 'grabbing';
    cardsContainer.style.scrollBehavior = 'auto';
  }
  
  function touchStart(event) {
    startDragging(event);
  }

  function stopDragging(event) {
    isDragging = false;
    prevTranslate = currentTranslate;
    cancelAnimationFrame(animationID);
    cardsContainer.style.cursor = 'grab';
    cardsContainer.style.scrollBehavior = 'smooth';

    const touchEndTime = new Date().getTime();
    const touchDuration = touchEndTime - touchStartTime;
    const swipeDistance = Math.abs(touchEndX - touchStartX);

    if (touchDuration < 300 && swipeDistance < minSwipeDistance) {
      const card = event.target.closest('.card');
      if (card && card.href) {
        window.location.href = card.href;
      }
    }
  }

  function drag(event) {
    if (isDragging) {
      const currentPosition = getPositionX(event);
      touchEndX = currentPosition;
      currentTranslate = prevTranslate + currentPosition - startPos;
    }
  }
  
  function touchMove(event) {
    if (isDragging) {
      const currentPosition = getPositionX(event);
      touchEndX = currentPosition;
      currentTranslate = prevTranslate + currentPosition - startPos;
      event.preventDefault();
    }
  }

  function touchEnd(event) {
    stopDragging(event);
  }

  function getPositionX(event) {
    return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
  }

  function animation() {
    cardsContainer.scrollLeft = -currentTranslate;
    if (isDragging) requestAnimationFrame(animation);
  }
}

document.addEventListener('DOMContentLoaded', () => {
  renderAfishaCards();
  initSlider();
});

export default events;